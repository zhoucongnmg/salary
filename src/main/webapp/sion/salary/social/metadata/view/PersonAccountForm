{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "bodyPadding": 10,
        "designer|userClassName": "PersonAccountForm",
        "height": 766,
        "layout": "column",
        "title": "员工薪资档案",
        "width": 861
    },
    "designerId": "ab191b14-fffd-4c4d-be41-8dbf0d999859",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "name": "MyToolbar1",
            "designerId": "eba24419-cdcb-412d-b41f-c2083e6c4ce5",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "s_icon_page_add",
                        "layout|flex": null,
                        "text": "保存信息"
                    },
                    "name": "MyButton1",
                    "designerId": "88fd9e3a-9523-4f7f-a55f-ac3c65402696",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveClick",
                                "implHandler": [
                                    "var me =this,",
                                    "    namespace=me.getNamespace(),",
                                    "    salaryForm=me.down('#salaryForm'),",
                                    "    socialForm=me.down('#socialForm'),",
                                    "    salaryItemGrid=me.down('#SalaryItemGrid'),",
                                    "    salaryItemStore=salaryItemGrid.getStore(),",
                                    "    insuredGrid=me.down('#socialGrid'),",
                                    "    insuredItemStore=insuredGrid.getStore(),",
                                    "    accountItems=[],",
                                    "    insuredItems=[],",
                                    "    insuredPerson,",
                                    "    model;",
                                    "",
                                    "if(me._record){",
                                    "    model=Ext.create(namespace+\".model.PersonAccount\",salaryForm.getValues());",
                                    "    model.set('id',me._record.data.id);",
                                    "}",
                                    "else{",
                                    "    model=Ext.create(namespace+\".model.PersonAccount\",salaryForm.getValues());",
                                    "}",
                                    "",
                                    "salaryItemStore.each(function(item){",
                                    "    accountItems.push({accountItemId:item.data.salaryItemId,accountItemName:item.data.name,value:item.data.value});",
                                    "});",
                                    "",
                                    "insuredItemStore.each(function(item){",
                                    "    insuredItems.push(item.data);",
                                    "});",
                                    "",
                                    "",
                                    "model.set(\"accountItems\",accountItems);",
                                    "model.set('insuredItems',insuredItems);",
                                    "insuredPerson=Ext.create(namespace+\".model.InsuredPerson\",socialForm.getValues());",
                                    "model.set('insuredPerson',insuredPerson.data);",
                                    "button.disabled=true;",
                                    "Ext.Ajax.request({",
                                    "    url: 'salary/person/create',",
                                    "    method:'POST',",
                                    "    jsonData: model.data,",
                                    "    success:function(response){",
                                    "        var res=Ext.JSON.decode(response.responseText);",
                                    "        Ext.Msg.alert(\"提示\",res.message);",
                                    "        if(res.success==false)",
                                    "        {",
                                    "            return;",
                                    "        }",
                                    "        if(me._grid){",
                                    "            me._grid.getStore().reload();",
                                    "        }",
                                    "        button.disabled=false;",
                                    "        me.close();",
                                    "    },",
                                    "    failure:function(form,action){",
                                    "        Ext.Msg.alert(\"提示\",\"保存信息失败!\");",
                                    "        button.disabled=false;",
                                    "    }",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onSaveClick",
                            "designerId": "66920d0d-c4e6-4c17-a960-b996fbfba915"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.tab.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "activeTab": 0,
                "height": 672,
                "layout|columnWidth": 1,
                "width": null
            },
            "name": "MyTabPanel1",
            "designerId": "ee586d0c-075f-4020-87a8-206c243d40e1",
            "cn": [
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "height": 543,
                        "itemId": "salaryForm",
                        "layout": "column",
                        "title": "基本信息"
                    },
                    "name": "MyForm5",
                    "designerId": "af86204a-a55c-47d5-a958-d5ead09ca2a4",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig",
                            "designerId": "207cb913-386d-4dec-b96b-0c8f6ea44edd"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "员工编号",
                                "itemId": "personCode",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "personCode"
                            },
                            "name": "MyTextField17",
                            "designerId": "1f4d0eac-6bc4-4d5e-a5d9-48304be83158"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "搜"
                            },
                            "name": "MyButton3",
                            "designerId": "407e11e8-3f35-4ead-9d3d-ffaa18af4745",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onSearchClick",
                                        "implHandler": [
                                            "var personSelection =Ext.create(\"Sion.Hr.Base.view.PersonSelection\",",
                                            "                                {_selectionMode:\"SINGLE\",_scope:this,_callback:this.selectedCallback});",
                                            "personSelection.show();"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "name": "onSearchClick",
                                    "designerId": "5e7ba32e-c5d1-460a-b911-ff4ec996b0fb"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer4",
                            "designerId": "60c8faf0-5bd8-45dd-ab74-faa8a564f4d7"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "姓名",
                                "itemId": "name",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "name"
                            },
                            "name": "MyTextField1",
                            "designerId": "7afd32c6-8d28-4d61-8940-befab2fb7867"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1.1
                            },
                            "name": "MySpacer1",
                            "designerId": "18058090-02cc-43e6-9d7a-8d242d983170"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "部门",
                                "itemId": "dept",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "dept"
                            },
                            "name": "MyTextField16",
                            "designerId": "94a110a4-872e-45d2-bc77-6d55e2352cdd"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer18",
                            "designerId": "8306766d-dd55-4be5-857b-f9711b4a8fd5"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "职务",
                                "itemId": "duty",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "duty"
                            },
                            "name": "MyTextField18",
                            "designerId": "baec6714-ef42-40c6-ad77-7a0914823bf8"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1.1
                            },
                            "name": "MySpacer",
                            "designerId": "0cddc5ed-b624-4e55-8656-5cc45d5f3791"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "身份证号",
                                "itemId": "idCard",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "idCard"
                            },
                            "name": "MyTextField3",
                            "designerId": "65867d2f-ecba-4dc6-adaa-0fd54a0c6bd6"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1.1
                            },
                            "name": "MySpacer3",
                            "designerId": "d32795b3-9e00-43ff-ba2f-c3829f0dfb2e"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "工资卡号",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "bankAccount"
                            },
                            "name": "MyTextField10",
                            "designerId": "73241f09-8c25-4a98-ae13-0cf4532cdbeb"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer19",
                            "designerId": "35077aca-ac28-4939-8aa2-9722e65acd31"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "银行",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "bank"
                            },
                            "name": "MyTextField12",
                            "designerId": "bd115935-9087-4e4b-b5cd-e8d2104834f9"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1.1
                            },
                            "name": "MySpacer20",
                            "designerId": "9675db06-7b0e-4a97-91ab-d0c221559fb9"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "开户网点",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "bankOfDeposit"
                            },
                            "name": "MyTextField13",
                            "designerId": "3f78566d-a77f-45ba-96dd-ee2b6714142d"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer23",
                            "designerId": "b5cce2a9-00ba-4a42-8f38-f3afac93712a"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "allowOnlyWhitespace": false,
                                "displayField": "name",
                                "editable": false,
                                "fieldLabel": "薪资方案",
                                "itemId": "accountId",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "accountId",
                                "store": "SalaryAccount",
                                "valueField": "id"
                            },
                            "name": "MyComboBox1",
                            "designerId": "54cb155c-122c-41ed-95b1-9bcf5fc437c9",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onAccountChange",
                                        "implHandler": [
                                            "var me=this,",
                                            "    namespace=me.getNamespace(),",
                                            "    store=field.getStore(),",
                                            "    SalaryItemGrid=me.down('#SalaryItemGrid'),",
                                            "    gridStore=SalaryItemGrid.getStore();",
                                            "",
                                            "gridStore.removeAll();",
                                            "store.each(function(account){",
                                            "    if(account.data.id===newValue){",
                                            "        var items=account.data.accountItems;",
                                            "        Ext.Array.each(items,function(item){",
                                            "            gridStore.add(Ext.create(namespace+\".model.PersonSalaryItem\",item));",
                                            "        });",
                                            "    }",
                                            "});"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onAccountChange",
                                    "designerId": "e92987cf-719f-435e-bb5a-10c1fb7887cc"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1.1
                            },
                            "name": "MySpacer21",
                            "designerId": "b23fd900-c118-4eb4-8b49-b2ac26c46706"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "name",
                                "fieldLabel": "薪资层次",
                                "itemId": "level",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "level",
                                "store": "LevelStore",
                                "valueField": "id"
                            },
                            "name": "MyComboBox9",
                            "designerId": "e8c1463a-6812-43b5-8999-52982bc73f39",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onLevelChange",
                                        "implHandler": [
                                            "var me=this,",
                                            "    store=field.getStore(),",
                                            "    rank=me.down('#rank'),",
                                            "    namespace=me.getNamespace(),",
                                            "    rankstore=rank.getStore();",
                                            "rankstore.removeAll();",
                                            "store.each(function(level){",
                                            "    if(level.data.id===newValue){",
                                            "        var levelItems=level.data.levelItems;",
                                            "        Ext.Array.each(levelItems,function(item){",
                                            "            rankstore.add(Ext.create(namespace+\".model.Rank\",item));",
                                            "        });",
                                            "    }",
                                            "});",
                                            ""
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onLevelChange",
                                    "designerId": "1869763e-ab4c-4768-aafd-6bb57aee6130"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer15",
                            "designerId": "9341efdd-efcf-4d85-8f44-053f5b45844f"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "rank",
                                "fieldLabel": "薪资级别",
                                "itemId": "rank",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "rank",
                                "store": "RankStore",
                                "valueField": "rank"
                            },
                            "name": "MyComboBox10",
                            "designerId": "39d4cd03-f68a-4815-b0fd-fcf987f5ab39"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1
                            },
                            "name": "MySpacer17",
                            "designerId": "cfd02f29-0e38-42c9-8880-f7d4c1ba2e80"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "备注",
                                "labelWidth": 80,
                                "layout|columnWidth": 1,
                                "margin": "10 0 0 0",
                                "name": "note"
                            },
                            "name": "MyTextField21",
                            "designerId": "83211f71-59ab-4fd8-8e6e-6ccfbeff26e6"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": null,
                                "height": 20,
                                "layout|columnWidth": 1,
                                "width": 100
                            },
                            "name": "MySpacer22",
                            "designerId": "d9ef4cf1-9664-488e-9311-781e1bb2a2bd"
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "header": false,
                                "height": 286,
                                "itemId": "SalaryItemGrid",
                                "layout|columnWidth": 1,
                                "store": "PersonSalaryItem",
                                "title": "My Grid Panel"
                            },
                            "name": "MyGridPanel1",
                            "designerId": "803c64d0-b7bf-46f6-99b8-9b07c244d11f",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "name",
                                        "text": "工资项目",
                                        "width": "40%"
                                    },
                                    "name": "MyColumn24",
                                    "designerId": "a4498920-30fc-4f97-94ef-5c3af1b4b4c0"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "value",
                                        "text": "值",
                                        "width": "58%"
                                    },
                                    "name": "MyColumn25",
                                    "designerId": "8a923989-d5d8-49d2-8924-15190043b967",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyNumberField3",
                                            "designerId": "98b16eba-e8b6-4a63-abf8-47df5458d8d1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.View",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyGridView2",
                                    "designerId": "5c14bfa8-9914-4ce0-b902-a4a639d61bee"
                                },
                                {
                                    "type": "Ext.grid.plugin.RowEditing",
                                    "reference": {
                                        "name": "plugins",
                                        "type": "array"
                                    },
                                    "codeClass": "Ext.grid.plugin.RowEditing",
                                    "name": "MyRowEditingPlugin",
                                    "designerId": "5acf885a-82e6-469d-83a3-c3d921a1b981"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "itemId": "socialForm",
                        "layout": "column",
                        "title": "社保信息"
                    },
                    "name": "MyForm6",
                    "designerId": "5fa41cc2-434a-4402-80ec-60bd34c359a6",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig1",
                            "designerId": "f5c180c3-8fdb-4805-bcc1-a5786c7ba1f1"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "社保号",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "insuredNo"
                            },
                            "name": "MyTextField2",
                            "designerId": "eea2874b-0c04-4414-a423-c87846bc2878"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer5",
                            "designerId": "6976db0f-31a4-42a1-832a-e84326d8270f"
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "editable": false,
                                "fieldLabel": "参保日期",
                                "format": "Y-m-d",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "insuredDate"
                            },
                            "name": "MyDateField4",
                            "designerId": "769b26a8-5199-47e0-ad54-be90968a4349"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1
                            },
                            "name": "MySpacer6",
                            "designerId": "e58c2a26-addc-4823-b58f-4880d02f126c"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "工作地",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "workplace"
                            },
                            "name": "MyTextField5",
                            "designerId": "b601aaa8-cc06-4f79-bf39-60c035016a1a"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer7",
                            "designerId": "4a03c6a9-df4c-434f-99cd-327695261f38"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "allowOnlyWhitespace": false,
                                "editable": false,
                                "fieldLabel": "参保状态",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "status",
                                "store": [
                                    "[['In','在保'],['Out','退保']]"
                                ]
                            },
                            "name": "MyComboBox3",
                            "configAlternates": {
                                "store": "array"
                            },
                            "designerId": "2dd6cc3e-24ed-4889-8c8e-3c4c1760a31c"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1
                            },
                            "name": "MySpacer8",
                            "designerId": "54ab1256-7472-43af-84d5-1e2d96f3ef86"
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "editable": false,
                                "fieldLabel": "退保日期",
                                "format": "Y-m-d",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "outDate"
                            },
                            "name": "MyDateField5",
                            "designerId": "28bbccff-e2d1-416d-9f93-f29264205986"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer9",
                            "designerId": "7a3431ab-c831-4ea4-8dc2-db6edc04b2b6"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "name",
                                "editable": false,
                                "fieldLabel": "社保方案",
                                "itemId": "socialAccount",
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "accountId",
                                "store": "SocialAccount",
                                "valueField": "id"
                            },
                            "name": "MyComboBox4",
                            "designerId": "1cd36a89-b523-4b79-9fa9-ba4578352b1b",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onSocialAccountChange",
                                        "implHandler": [
                                            "var me=this,",
                                            "    namespace=me.getNamespace(),",
                                            "    store=field.getStore(),",
                                            "    socialGrid=me.down('#socialGrid'),",
                                            "    gridStore=socialGrid.getStore();",
                                            "if(newValue!==oldValue){",
                                            "    gridStore.removeAll();",
                                            "    store.each(function(account){",
                                            "        if(account.data.id===newValue){",
                                            "            var items=account.data.socialAccountItems;",
                                            "            Ext.Array.each(items,function(item){",
                                            "                gridStore.add(Ext.create(namespace+\".model.PersonSocialItem\",item));",
                                            "            });",
                                            "        }",
                                            "    });",
                                            "}",
                                            ""
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "name": "onSocialAccountChange",
                                    "designerId": "b21ef5c8-913c-4f0a-af3c-adf92a6d7d91"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1
                            },
                            "name": "MySpacer10",
                            "designerId": "1d55f568-e366-4038-8085-e78f110b33c7"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "社保代付地",
                                "hideEmptyLabel": false,
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "socialWorkplace",
                                "padding": null
                            },
                            "name": "MyTextField7",
                            "designerId": "0663a5a5-b6ba-4b8c-8156-1f77923f813c"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 0.1
                            },
                            "name": "MySpacer12",
                            "designerId": "f73d3873-a991-4977-87ab-1ab39a2f8157"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "公积金代付地",
                                "hideEmptyLabel": false,
                                "labelWidth": 80,
                                "layout|columnWidth": 0.45,
                                "name": "accumulationFundsWorkplace",
                                "padding": null
                            },
                            "name": "MyTextField8",
                            "designerId": "8227c094-ff68-41af-b63a-029ef0937b19"
                        },
                        {
                            "type": "Ext.toolbar.Spacer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "height": 20,
                                "layout|columnWidth": 1
                            },
                            "name": "MySpacer16",
                            "designerId": "cfc3acd7-b017-4e5b-9bbe-308e431e774d"
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "header": false,
                                "height": 403,
                                "itemId": "socialGrid",
                                "layout|columnWidth": 1,
                                "store": "PersonSocialItem",
                                "title": "My Tab"
                            },
                            "name": "MyGridPanel",
                            "designerId": "7a91a46b-2694-46af-b0da-184a0554f89a",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "socialItemName",
                                        "flex": 1,
                                        "text": "项目名称"
                                    },
                                    "name": "MyColumn11",
                                    "designerId": "47c7ed23-b867-4581-aed3-0d93568b4bc1"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "cardinality",
                                        "flex": 0.6,
                                        "text": "基数"
                                    },
                                    "name": "MyColumn13",
                                    "designerId": "5a5f74cc-092a-42c4-80e4-fbc71e4f6302"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "companyPaymentValue",
                                        "flex": 1.25,
                                        "text": "单位缴费"
                                    },
                                    "name": "MyColumn15",
                                    "designerId": "80fb5444-ccc6-487d-964e-393cc1b50b72",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyNumberField5",
                                            "designerId": "a66f07f0-2e90-48d0-8663-7921822bd4a0"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "companyPaymentType",
                                        "text": "单位缴费类型"
                                    },
                                    "name": "MyColumn19",
                                    "designerId": "c5b0d8c3-bbd9-410a-93e5-300d60303613",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "store": [
                                                    "[['Percent','百分比'],",
                                                    "\t\t['Quota','定额']]"
                                                ]
                                            },
                                            "name": "MyComboBox12",
                                            "configAlternates": {
                                                "store": "array"
                                            },
                                            "designerId": "cf4fb33d-88be-49e1-97ec-6a6878964f10"
                                        },
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if(value===\"Percent\"){",
                                                    "    return \"百分比\";",
                                                    "}",
                                                    "else{",
                                                    "    return \"定额\";",
                                                    "}"
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "06de2bd0-3a40-43da-8994-ba910ef47f09"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "personalPaymentValue",
                                        "flex": 1.25,
                                        "text": "个人缴费"
                                    },
                                    "name": "MyColumn12",
                                    "designerId": "e9fcb164-ae4b-4c6b-ab45-d64f9cb4dbb8",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyNumberField6",
                                            "designerId": "15ab58d3-9ba6-49de-bf65-44b1fc6adc65"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "personalPaymentType",
                                        "text": "个人缴费类型"
                                    },
                                    "name": "MyColumn21",
                                    "designerId": "4c1462d6-62cc-4fcf-bc63-732e1e226241",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "store": [
                                                    "[['Percent','百分比'],",
                                                    "\t\t['Quota','定额']]"
                                                ]
                                            },
                                            "name": "MyComboBox13",
                                            "configAlternates": {
                                                "store": "array"
                                            },
                                            "designerId": "ef1dd023-9309-41d7-bf30-37b60fb5ebfa"
                                        },
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "value",
                                                    "metaData",
                                                    "record",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "store",
                                                    "view"
                                                ],
                                                "fn": "renderer",
                                                "implHandler": [
                                                    "if(value===\"Percent\"){",
                                                    "    return \"百分比\";",
                                                    "}",
                                                    "else{",
                                                    "    return \"定额\";",
                                                    "}"
                                                ]
                                            },
                                            "name": "renderer",
                                            "designerId": "d6525e23-cfcf-4f92-a814-9acac91e7440"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.View",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyGridView1",
                                    "designerId": "b3ed3b24-2715-4396-aae6-2d954cf5f0c1"
                                },
                                {
                                    "type": "Ext.grid.plugin.RowEditing",
                                    "reference": {
                                        "name": "plugins",
                                        "type": "array"
                                    },
                                    "codeClass": "Ext.grid.plugin.RowEditing",
                                    "name": "MyRowEditingPlugin1",
                                    "designerId": "6353fdec-068c-4825-a641-8d90ab5e37ca"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onWindowAfterRender",
                "implHandler": [
                    "var me=this,",
                    "    namespace=me.getNamespace(),",
                    "    salaryForm=me.down('#salaryForm'),",
                    "    socialForm=me.down('#socialForm'),",
                    "    salaryItemGrid=me.down('#SalaryItemGrid'),",
                    "    salaryItemStore=salaryItemGrid.getStore(),",
                    "    insuredGrid=me.down('#socialGrid'),",
                    "    insuredItemStore=insuredGrid.getStore();",
                    "",
                    "//load combobox",
                    "var level=me.down('#level'),",
                    "    accountId=me.down('#accountId'),",
                    "    socialAccount=me.down('#socialAccount');",
                    "",
                    "level.getStore().load();",
                    "accountId.getStore().load();",
                    "socialAccount.getStore().load();",
                    "",
                    "if(me._record){",
                    "    salaryForm.getForm().setValues(me._record.data);",
                    "    socialForm.getForm().setValues(me._record.data.insuredPerson);",
                    "    salaryItemStore.removeAll();",
                    "    Ext.Array.each(me._record.data.accountItems,function(item){",
                    "        salaryItemStore.add(Ext.create(namespace+\".model.PersonSalaryItem\",{salaryItemId:item.accountItemId,name:item.accountItemName,value:item.value}));",
                    "    });",
                    "    insuredItemStore.removeAll();",
                    "    Ext.Array.each(me._record.data.accountItems,function(item){",
                    "        insuredItemStore.add(Ext.create(namespace+\".model.PersonSocialItem\",item.data));",
                    "    });",
                    "}",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "name": "onWindowAfterRender",
            "designerId": "32248814-28a2-421f-91f3-0944a8bb356a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "persons",
                    "scope"
                ],
                "fn": "selectedCallback",
                "implHandler": [
                    "var me=scope,",
                    "    salaryForm=me.down('#salaryForm'),",
                    "    socialForm=me.down('#socialForm'),",
                    "    person=persons[0];",
                    "",
                    "salaryForm.down('#personCode').setValue(person.data.serialNum);",
                    "salaryForm.down('#name').setValue(person.data.name);",
                    "salaryForm.down('#dept').setValue(person.data.deptName);",
                    "salaryForm.down('#duty').setValue(person.data.position);",
                    "salaryForm.down('#idCard').setValue(person.data.idCard);",
                    ""
                ]
            },
            "name": "selectedCallback",
            "designerId": "e3b89da3-44a7-4014-8c55-c75adc112765"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onWindowBeforeClose",
                "implHandler": [
                    "var me=this,",
                    "    socialItemGrid=me.down('#socialGrid'),",
                    "    salaryItemGrid=me.down('#SalaryItemGrid');",
                    "",
                    "socialItemGrid.getStore().removeAll();",
                    "salaryItemGrid.getStore().removeAll();"
                ],
                "name": "beforeclose",
                "scope": "me"
            },
            "name": "onWindowBeforeClose",
            "designerId": "977c0981-5888-43d2-82a0-51909336566e"
        }
    ]
}